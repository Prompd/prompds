---
id: generate-unit-tests
name: Generate Unit Tests
version: 1.0.1
description: Generate comprehensive unit tests for functions and classes
system: "../systems/test-engineer.md"
parameters:
  - name: source_code
    type: string
    required: true
    description: The source code to generate tests for
  - name: language
    type: string
    required: true
    description: Programming language (javascript, python, go, etc.)
  - name: test_framework
    type: string
    required: false
    description: Testing framework to use (jest, pytest, go test, etc.)
  - name: coverage_target
    type: integer
    default: 90
    description: Target code coverage percentage
  - name: include_edge_cases
    type: boolean
    default: true
    description: Include edge cases and error scenarios
  - name: mock_dependencies
    type: boolean
    default: true
    description: Mock external dependencies
---

# Unit Test Generation for {language}

Generate comprehensive unit tests for the provided {language} code. Target {coverage_target}% code coverage with thorough testing of all functionality.

## Source Code to Test

```{language}
{source_code}
```

## Testing Requirements

{{#if test_framework}}
### Framework: {test_framework}
Use {test_framework} conventions and best practices.
{else}
### Framework Selection
Choose the most appropriate testing framework for {language} and explain your choice.
{{/if}}

### Test Categories to Include:

1. **Happy Path Tests** - Normal operation scenarios
2. **Input Validation** - Various input types and formats
{{#if include_edge_cases}}
3. **Edge Cases** - Boundary conditions, empty inputs, null values
4. **Error Scenarios** - Invalid inputs, exception handling
{{/if}}
5. **State Verification** - Object/state changes after operations
{{#if mock_dependencies}}
6. **Dependency Mocking** - Mock external services, databases, APIs
{{/if}}

### Test Structure

For each function/method/class:
- **Setup**: Test data and mock configuration
- **Execution**: Call the function with various inputs
- **Assertion**: Verify expected outputs and side effects
- **Cleanup**: Reset state if needed

## Output Requirements

Generate complete, runnable tests that:
- Follow {language} testing conventions
- Use descriptive test names that explain what's being tested
- Include setup and teardown as needed
- Cover both positive and negative test cases
- {{#if mock_dependencies}}Mock external dependencies appropriately{{/if}}
- Achieve the target {coverage_target}% coverage
- Are well-organized with clear test groupings

### Test Organization:
```{language}
// Example structure - adapt to {language} conventions
describe('FunctionName', () => {
  describe('when given valid inputs', () => {
    it('should return expected result', () => {
      // test implementation
    });
  });
  
  {{#if include_edge_cases}}
  describe('when given edge cases', () => {
    it('should handle empty input', () => {
      // edge case test
    });
  });
  {{/if}}
});
```

Focus on creating tests that will catch regressions and ensure code reliability.